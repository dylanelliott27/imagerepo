{"version":3,"sources":["Nav.js","Home.js","UploadImage.js","Login.js","Register.js","MyImages.js","App.js","serviceWorker.js","index.js"],"names":["Nav","useContext","userContext","userInfo","logout","mode","Item","key","icon","MailOutlined","to","username","AppstoreOutlined","style","float","money","onClick","document","cookie","Home","useState","publicImages","setPublicImages","updateUserInfo","loggedIn","useEffect","fetch","process","credentials","then","res","json","data","catch","_","console","error","span","offset","textAlign","itemLayout","size","pagination","onChange","page","log","pageSize","dataSource","renderItem","item","title","actions","extra","width","alt","src","path","Meta","avatar","href","ownerUsername","description","price","isOwner","type","pictureID","method","body","JSON","stringify","status","UploadImage","previewImages","setPreviewImages","successfulUpload","setSuccessfulUpload","filesToBeUploaded","useRef","previewImage","e","Array","from","target","files","forEach","ele","reader","readAsDataURL","addEventListener","x","name","public","result","tags","readImage","FileReader","formItemLayout","labelCol","wrapperCol","onFinish","fileList","current","formData","FormData","i","length","randomFileName","Math","floor","random","append","alert","marginTop","label","ref","multiple","htmlType","Object","keys","map","height","event","persist","old","value","Login","setUsername","password","setPassword","login","justify","align","minHeight","className","initialValues","remember","rules","required","message","prefix","UserOutlined","placeholder","LockOutlined","valuePropName","noStyle","Register","loggedin","setLoggedIn","Option","Select","MyImages","images","setImages","modalVisibility","setModalVisibility","pictureBeingEdited","setPictureBeingEdited","picturedetails","id","objCopy","splice","visible","onOk","onCancel","defaultValue","createContext","user","getUserInfo","App","setUserInfo","Provider","pass","fromRegister","exact","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6fdeed04.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { userContext } from \"./App.js\";\r\nimport { Menu } from \"antd\";\r\n\r\nimport { MailOutlined, AppstoreOutlined } from \"@ant-design/icons\";\r\n\r\nfunction Nav() {\r\n  const { userInfo, logout } = useContext(userContext);\r\n\r\n  function handleLogout(){\r\n    document.cookie = \"auth=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\r\n    logout();\r\n  }\r\n  return (\r\n    <Menu mode=\"horizontal\">\r\n      <Menu.Item key=\"home\" icon={<MailOutlined />}>\r\n        <Link to=\"/\">Home</Link>\r\n      </Menu.Item>\r\n      {!userInfo.username && (\r\n        <Menu.Item key=\"login\" icon={<AppstoreOutlined />}>\r\n          <Link to=\"/login\">Login</Link>\r\n        </Menu.Item>\r\n      )}\r\n      {!userInfo.username && (\r\n        <Menu.Item key=\"register\" icon={<AppstoreOutlined />}>\r\n          <Link to=\"/register\">Register</Link>\r\n        </Menu.Item>\r\n      )}\r\n      {userInfo.username && (\r\n        <Menu.Item key=\"upload\" icon={<AppstoreOutlined />}>\r\n          <Link to=\"/upload\">Upload</Link>\r\n        </Menu.Item>\r\n      )}\r\n      {userInfo.username && (\r\n        <Menu.Item key=\"myImages\" icon={<AppstoreOutlined />}>\r\n          <Link to=\"/myimages\">My Images</Link>\r\n        </Menu.Item>\r\n      )}\r\n      {userInfo.username && (\r\n        <Menu.Item\r\n          style={{ float: \"right\" }}\r\n          key=\"user\"\r\n          icon={<AppstoreOutlined />}\r\n        >\r\n          {userInfo.username}\r\n        </Menu.Item>\r\n      )}\r\n      {userInfo.username && (\r\n        <Menu.Item\r\n          style={{ float: \"right\" }}\r\n          key=\"money\"\r\n          icon={<AppstoreOutlined />}\r\n        >\r\n          ${userInfo.money}\r\n        </Menu.Item>\r\n      )}\r\n            {userInfo.username && (\r\n        <Menu.Item\r\n          onClick={handleLogout}\r\n          style={{ float: \"right\" }}\r\n          key=\"logout\"\r\n          icon={<AppstoreOutlined />}\r\n        >\r\n          Log out\r\n        </Menu.Item>\r\n      )}\r\n    </Menu>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport { List, Avatar, Button, Row, Col } from \"antd\";\r\nimport { userContext } from \"./App\";\r\n\r\nfunction Home() {\r\n  const [publicImages, setPublicImages] = useState([]);\r\n  const { updateUserInfo, loggedIn } = useContext(userContext);\r\n\r\n  useEffect(() => {\r\n    fetch(`${process.env.REACT_APP_URL}/imagelist`, { credentials: \"include\" })\r\n      .then((res) => res.json())\r\n      .then((data) => setPublicImages(data))\r\n      .catch((_) => console.error(\"issue fetching imagedata\"));\r\n  }, []);\r\n\r\n  function purchaseImage(pictureID) {\r\n    fetch(`${process.env.REACT_APP_URL}/purchasereq`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      body: JSON.stringify({ pictureID: pictureID }),\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          fetch(`${process.env.REACT_APP_URL}/imagelist`, { credentials: \"include\" })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n              updateUserInfo();\r\n              setPublicImages(data);\r\n            })\r\n            .catch((_) => console.error(\"issue fetching imagedata\"));\r\n        } \r\n      })\r\n      .catch((_) => console.error(\"issue purchasing\"));\r\n  }\r\n\r\n  if(!loggedIn){\r\n    return <Redirect to='/login'></Redirect>\r\n  }\r\n  return (\r\n    <Row>\r\n      <Col span={22} offset={1}>\r\n        <h1 style={{ textAlign: \"center\" }}>Marketplace</h1>\r\n        <List\r\n          itemLayout=\"vertical\"\r\n          size=\"large\"\r\n          pagination={{\r\n            onChange: (page) => {\r\n              console.log(page);\r\n            },\r\n            pageSize: 5,\r\n          }}\r\n          dataSource={publicImages}\r\n          renderItem={(item) => (\r\n            <List.Item\r\n              key={item.title}\r\n              actions={[]}\r\n              extra={\r\n                <img\r\n                  width={272}\r\n                  alt=\"logo\"\r\n                  src={`${process.env.REACT_APP_URL}/images/${item.path}`}\r\n                />\r\n              }\r\n            >\r\n              <List.Item.Meta\r\n                avatar={<Avatar src={item.avatar} />}\r\n                title={<a href={item.href}>{item.ownerUsername}</a>}\r\n                description={\"$\" + item.price}\r\n              />\r\n              {item.isOwner ? (\r\n                <Button type=\"danger\">You own this</Button>\r\n              ) : (\r\n                <Button\r\n                  onClick={(_) => purchaseImage(item.pictureID)}\r\n                  type=\"primary\"\r\n                >\r\n                  Purchase\r\n                </Button>\r\n              )}\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState, useRef, useContext} from \"react\";\r\nimport { Form, Button} from \"antd\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {userContext} from './App';\r\n\r\nfunction UploadImage() {\r\n  const [previewImages, setPreviewImages] = useState({});\r\n  const {loggedIn} = useContext(userContext);\r\n  const [successfulUpload, setSuccessfulUpload] = useState(false);\r\n  const filesToBeUploaded = useRef(null);\r\n\r\n  function previewImage(e) {\r\n    Array.from(e.target.files).forEach((ele) => {\r\n      const reader = new FileReader();\r\n      readImage(ele, reader);\r\n    });\r\n\r\n    function readImage(ele, reader) {\r\n      reader.readAsDataURL(ele);\r\n      reader.addEventListener(\"load\", function (e) {\r\n        setPreviewImages((x) => ({\r\n          ...x,\r\n          [ele.name]: {\r\n            price: 0,\r\n            public: true,\r\n            data: e.target.result,\r\n            tags: \"\",\r\n          },\r\n        }));\r\n      });\r\n    }\r\n  }\r\n\r\n  function uploadFiles(files) {\r\n    const fileList = filesToBeUploaded.current.files;\r\n\r\n    let formData = new FormData();\r\n    for (let i = 0; i < fileList.length; i++) {\r\n      let randomFileName = Math.floor(Math.random() * (125000 - 1) + 1);\r\n      formData.append(randomFileName, fileList[i]);\r\n      formData.append(\r\n        randomFileName,\r\n        JSON.stringify([\r\n          previewImages[fileList[i].name].public,\r\n          previewImages[fileList[i].name].price,\r\n          previewImages[fileList[i].name].tags,\r\n        ])\r\n      );\r\n    }\r\n\r\n    fetch(`${process.env.REACT_APP_URL}/uploadimg`, {\r\n      body: formData,\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          setSuccessfulUpload(true);\r\n        }\r\n      })\r\n      .catch((_) => alert(\"issue uploading the image\"));\r\n  }\r\n\r\n  if(!loggedIn){\r\n    return <Redirect to=\"/login\"></Redirect>\r\n  }\r\n  const formItemLayout = {\r\n    labelCol: { span: 6 },\r\n    wrapperCol: { span: 14 },\r\n  };\r\n\r\n  if (successfulUpload) {\r\n    return <Redirect to=\"/myimages\"></Redirect>;\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      name=\"validate_other\"\r\n      {...formItemLayout}\r\n      onFinish={uploadFiles}\r\n\r\n    >\r\n      <h1 style={{ textAlign: \"center\", marginTop: \"50px\" }}>Upload a image</h1>\r\n\r\n      <Form.Item {...formItemLayout} name=\"Images\" label=\"Choose your images\">\r\n        <input\r\n          type=\"file\"\r\n          ref={filesToBeUploaded}\r\n          multiple\r\n          onChange={(e) => previewImage(e)}\r\n        ></input>\r\n      </Form.Item>\r\n\r\n      <Form.Item wrapperCol={{ span: 12, offset: 6 }}>\r\n        <Button type=\"primary\" htmlType=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form.Item>\r\n      {previewImages &&\r\n        Object.keys(previewImages).map((e) => (\r\n          <div>\r\n            <img\r\n              key={e}\r\n              style={{ width: \"150px\", height: \"100%\" }}\r\n              src={previewImages[e].data}\r\n            ></img>\r\n            <label>Price</label>\r\n            <input\r\n              onChange={(event) => {\r\n                event.persist();\r\n                setPreviewImages((old) => ({\r\n                  ...old,\r\n                  [e]: { ...previewImages[e], price: event.target.value },\r\n                }));\r\n              }}\r\n            ></input>\r\n            <label>Public</label>\r\n            <select\r\n              onChange={(event) => {\r\n                event.persist();\r\n                setPreviewImages((old) => ({\r\n                  ...old,\r\n                  [e]: { ...previewImages[e], public: event.target.value },\r\n                }));\r\n              }}\r\n            >\r\n              <option value=\"true\">True</option>\r\n              <option value=\"false\">False</option>\r\n            </select>\r\n            <label>Tags(comma seperated)</label>\r\n            <input\r\n              onChange={(event) => {\r\n                event.persist();\r\n                setPreviewImages((old) => ({\r\n                  ...old,\r\n                  [e]: { ...previewImages[e], tags: event.target.value },\r\n                }));\r\n              }}\r\n            ></input>\r\n          </div>\r\n        ))}\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default UploadImage;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Form, Input, Button, Checkbox, Row, Col } from \"antd\";\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport { userContext } from \"./App.js\";\r\nfunction Login() {\r\n  const [username, setUsername] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const { login, loggedIn } = useContext(userContext);\r\n\r\n  if (loggedIn) {\r\n    return <Redirect to=\"/\"></Redirect>;\r\n  }\r\n  return (\r\n    <Row\r\n      type=\"flex\"\r\n      justify=\"center\"\r\n      align=\"middle\"\r\n      style={{ minHeight: \"100vh\" }}\r\n    >\r\n      <Col span={5}>\r\n        <h1>Login</h1>\r\n        <Form\r\n          name=\"normal_login\"\r\n          className=\"login-form\"\r\n          initialValues={{ remember: true }}\r\n          onFinish={(_) => login(username, password)}\r\n        >\r\n          <Form.Item\r\n            name=\"username\"\r\n            rules={[{ required: true, message: \"Please input your Username!\" }]}\r\n          >\r\n            <Input\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n              placeholder=\"Username\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"password\"\r\n            rules={[{ required: true, message: \"Please input your Password!\" }]}\r\n          >\r\n            <Input\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n              <Checkbox>Remember me</Checkbox>\r\n            </Form.Item>\r\n\r\n            <a className=\"login-form-forgot\" href=\"\">\r\n              Forgot password\r\n            </a>\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              className=\"login-form-button\"\r\n            >\r\n              Log in\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Form, Input, Button, Checkbox, Row, Col } from \"antd\";\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport { userContext } from \"./App.js\";\r\n\r\nfunction Register() {\r\n  const [username, setUsername] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [loggedin, setLoggedIn] = useState();\r\n  const { login, loggedIn } = useContext(userContext);\r\n  function registerRequest(e) {\r\n    fetch(`${process.env.REACT_APP_URL}/register`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      body: JSON.stringify({ username: username, password: password }),\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.status === 200) {\r\n          return res.json();\r\n        }\r\n      })\r\n      .then((data) => {\r\n        login(data.username, null, true, data.money);\r\n        setLoggedIn(true);\r\n      })\r\n      .catch((_) => alert(\"issue registering\"));\r\n  }\r\n\r\n  if (loggedin || loggedIn) {\r\n    return <Redirect to=\"/\"></Redirect>;\r\n  }\r\n  return (\r\n    <Row\r\n      type=\"flex\"\r\n      justify=\"center\"\r\n      align=\"middle\"\r\n      style={{ minHeight: \"100vh\" }}\r\n    >\r\n      <Col span={5}>\r\n        <h1>Register</h1>\r\n        <Form\r\n          name=\"normal_login\"\r\n          className=\"login-form\"\r\n          initialValues={{ remember: true }}\r\n          onFinish={registerRequest}\r\n        >\r\n          <Form.Item\r\n            name=\"username\"\r\n            rules={[{ required: true, message: \"Please input your Username!\" }]}\r\n          >\r\n            <Input\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n              placeholder=\"Username\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"password\"\r\n            rules={[{ required: true, message: \"Please input your Password!\" }]}\r\n          >\r\n            <Input\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n              <Checkbox>Remember me</Checkbox>\r\n            </Form.Item>\r\n\r\n            <a className=\"login-form-forgot\" href=\"\">\r\n              Forgot password\r\n            </a>\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              className=\"login-form-button\"\r\n            >\r\n              Log in\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  List,\r\n  Avatar,\r\n  Space,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Modal,\r\n  Input,\r\n  Select,\r\n} from \"antd\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport {userContext} from './App';\r\n\r\nconst { Option } = Select;\r\nfunction MyImages() {\r\n  const [images, setImages] = useState([]);\r\n  const {loggedIn} = useContext(userContext);\r\n  const [modalVisibility, setModalVisibility] = useState(false);\r\n  const [pictureBeingEdited, setPictureBeingEdited] = useState({});\r\n\r\n  useEffect(() => {\r\n    fetch(`${process.env.REACT_APP_URL}/userimages`, { credentials: \"include\" })\r\n      .then((res) => res.json())\r\n      .then((data) => setImages(data))\r\n      .catch((_) => alert(\"unable to fetch user specific images\"));\r\n  }, []);\r\n\r\n  function handleModalOk() {\r\n    setModalVisibility(false);\r\n    fetch(`${process.env.REACT_APP_URL}/editimg`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      body: JSON.stringify(pictureBeingEdited),\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          fetch(`${process.env.REACT_APP_URL}/userimages`, { credentials: \"include\" })\r\n            .then((res) => res.json())\r\n            .then((data) => setImages(data))\r\n            .catch((_) => alert(\"unable to fetch user specific images\"));\r\n        }\r\n      })\r\n      .catch((_) => alert(\"unable to edit image\"));\r\n    setPictureBeingEdited({});\r\n  }\r\n\r\n  function deleteImg(id) {\r\n    fetch(`${process.env.REACT_APP_URL}/deleteimg`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      body: JSON.stringify({ pictureID: id }),\r\n    }).then((res) => {\r\n      if (res.status === 200) {\r\n        setImages((old) => {\r\n          console.log(old);\r\n          const objCopy = [...images];\r\n          for (let i = 0; i < objCopy.length; i++) {\r\n            if (objCopy[i].pictureID === id) {\r\n              objCopy.splice(i, 1);\r\n            }\r\n          }\r\n          return objCopy;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  function handleModalCancel() {\r\n    setModalVisibility(false);\r\n    setPictureBeingEdited({});\r\n  }\r\n\r\n  function handleModalOpen(picturedetails) {\r\n    setPictureBeingEdited(picturedetails);\r\n    setModalVisibility(true);\r\n  }\r\n\r\n  if(!loggedIn){\r\n    return <Redirect to='/login'></Redirect>\r\n  }\r\n  return (\r\n    <Row>\r\n      <Col span={22} offset={1}>\r\n        <h1 style={{ textAlign: \"center\" }}>Your Images</h1>\r\n        <List\r\n          itemLayout=\"vertical\"\r\n          size=\"large\"\r\n          pagination={{\r\n            onChange: (page) => {\r\n              console.log(page);\r\n            },\r\n            pageSize: 5,\r\n          }}\r\n          dataSource={images}\r\n          renderItem={(item) => (\r\n            <List.Item\r\n              key={item.title}\r\n              actions={[]}\r\n              extra={\r\n                <img\r\n                  width={272}\r\n                  alt=\"logo\"\r\n                  src={`${process.env.REACT_APP_URL}/images/${item.path}`}\r\n                />\r\n              }\r\n            >\r\n              <List.Item.Meta\r\n                avatar={<Avatar src={item.avatar} />}\r\n                title={<a href={item.href}>{item.ownerUsername}</a>}\r\n                description={\"$\" + item.price}\r\n              />\r\n              {item.public ? (\r\n                <p>This item is listed on the marketplace</p>\r\n              ) : (\r\n                <p>This item is not listed on the marketplace</p>\r\n              )}\r\n              {\r\n                <Button\r\n                  onClick={(_) =>\r\n                    handleModalOpen({\r\n                      id: item.pictureID,\r\n                      price: item.price,\r\n                      public: item.public,\r\n                    })\r\n                  }\r\n                  type=\"primary\"\r\n                >\r\n                  EDIT\r\n                </Button>\r\n              }\r\n              {\r\n                <Button\r\n                  onClick={(_) => deleteImg(item.pictureID)}\r\n                  type=\"danger\"\r\n                >\r\n                  DELETE\r\n                </Button>\r\n              }\r\n            </List.Item>\r\n          )}\r\n        />\r\n\r\n        <Modal\r\n          title=\"Edit image details..\"\r\n          visible={modalVisibility}\r\n          onOk={handleModalOk}\r\n          onCancel={handleModalCancel}\r\n        >\r\n          <label>Price</label>\r\n          <Input\r\n            onChange={(e) =>\r\n              setPictureBeingEdited({\r\n                ...pictureBeingEdited,\r\n                price: e.target.value,\r\n              })\r\n            }\r\n            value={pictureBeingEdited.price}\r\n            placeholder=\"Basic usage\"\r\n          />\r\n          <label>Public</label>\r\n          <Select\r\n            key={pictureBeingEdited.public}\r\n            defaultValue={pictureBeingEdited.public == 1 ? \"true\" : \"false\"}\r\n            style={{ width: 120 }}\r\n            onChange={(e) =>\r\n              setPictureBeingEdited({\r\n                ...pictureBeingEdited,\r\n                public: e == \"true\" ? 1 : 0,\r\n              })\r\n            }\r\n          >\r\n            <Option value=\"true\">True</Option>\r\n            <Option value=\"false\">False</Option>\r\n          </Select>\r\n        </Modal>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default MyImages;\r\n","import React, { createContext, useState, useEffect } from \"react\";\nimport Nav from \"./Nav\";\nimport Home from \"./Home\";\nimport UploadImage from \"./UploadImage\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport { BrowserRouter as Router, Switch, Route, Redirect} from \"react-router-dom\";\nimport \"./App.css\";\nimport MyImages from \"./MyImages\";\n\nexport const userContext = createContext({\n  user: {},\n  login: function () {},\n  loggedIn: false,\n  getUserInfo: function () {},\n  logout: function(){}\n});\n\nfunction App() {\n  const [userInfo, setUserInfo] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n\n\n  function updateUserInfo() {\n    fetch(`${process.env.REACT_APP_URL}/userinfo`, { credentials: \"include\" })\n      .then((res) => res.json())\n      .then((res) => setUserInfo(res));\n  }\n  function login(user, pass, fromRegister, money) {\n    if (fromRegister) {\n      setLoggedIn(true);\n      setUserInfo({ username: user, money: money });\n      return;\n    }\n    fetch(`${process.env.REACT_APP_URL}/login`, {\n      method: \"POST\",\n      credentials: \"include\",\n      body: JSON.stringify({ username: user, password: pass }),\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          return res.json();\n        }\n      })\n      .then((data) => {\n        setUserInfo({ username: data.username, money: data.money });\n        setLoggedIn(true);\n      })\n      .catch((_) => alert(\"issue logging in\"));\n  }\n\n  function logout(){\n    setLoggedIn(false);\n    setUserInfo({});\n  }\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_URL}/userinfo`, { credentials: \"include\" })\n      .then((res) => res.json())\n      .then((data) => {\n        setUserInfo({ username: data.username, money: data.money });\n        setLoggedIn(true);\n      })\n      .catch((_) => console.log(\"not logged in\"));\n  }, []);\n\n  return (\n    <userContext.Provider\n      value={{\n        userInfo,\n        login,\n        loggedIn,\n        updateUserInfo,\n        logout\n      }}\n    >\n      <Router>\n        <Nav />\n        <Switch>\n          <Route path=\"/\" exact>\n            <Home />\n          </Route>\n          <Route path=\"/upload\">\n            <UploadImage />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"/myimages\">\n            <MyImages />\n          </Route>\n        </Switch>\n      </Router>\n    </userContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}